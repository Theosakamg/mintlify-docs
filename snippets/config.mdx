export const config = {
  vendorName: process.env.VENDOR_NAME || "Upsun",
  configFiles: {
    services: process.env.CONFIG_FILE_SERVICES || ".upsun/config.yaml",
    app: process.env.CONFIG_FILE_APP || ".upsun/config.yaml",
  },
  glossary: {
    mb: process.env.GLOSSARY_MB || "MB",
  },
  vendor: {
    discord: {
      url: process.env.VENDOR_DISCORD_URL || "https://discord.gg/platformsh",
    },
  },
};

export default function ConfigValue({ key }) {
  const keys = key.split('.');
  let value = config;
  
  for (const k of keys) {
    value = value[k];
    if (value === undefined) return key;
  }
  
  return value;
}

export default function LinkFromConfig( {key, title}) {
  const link = ConfigValue(key);
  let value = `<a href=${link}>${title}</a>`;

  return value;
}